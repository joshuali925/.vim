{
  "cli template": {
    "prefix": "template-cli",
    "body": [
      "#!/usr/bin/env python3",
      "",
      "import os, sys, re, io, random, math, json, shlex, subprocess",
      "from functools import reduce",
      "",
      "if not sys.stdin.isatty():",
      "\tstdin = [line.rstrip() for line in sys.stdin]",
      "\tprint(\"\\n\".join([\"Read from stdin:\"] + stdin))",
      "\t# json_data = json.loads(\"\".join(stdin))",
      "",
      "if len(sys.argv) > 1:",
      "\targ_str = shlex.quote(shlex.join(sys.argv[1:]))",
      "\tprint(f\"Quoted shell string: {arg_str}\\n\")",
      "\tout = subprocess.run(",
      "\t\t[\"bash\", \"-c\", \"echo {}\".format(arg_str)],",
      "\t\tcapture_output=True,",
      "\t\ttext=True,",
      "\t)",
      "\tprint(out.stdout)",
      "\tprint(f\"Process finished with status {out.returncode}\")"
    ]
  }
}
