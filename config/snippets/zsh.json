{
  "Read one character": {
    "prefix": "prompt-one-key",
    "body": [
      "read -s -k '?${1:To abort press n.}'; echo",
      "if [ \"\\$REPLY\" != \"\\${REPLY#[Nn]}\" ]; then",
      "  ${0:return 0}",
      "fi"
    ]
  },
  "Pipe run for each line": {
    "prefix": "while-read",
    "body": [
      "while IFS= read -r line; do",
      "  echo \"\\$line:\"",
      "  $0 || break",
      "done"
    ]
  },
  "Heredoc append to file": {
    "prefix": "heredoc-to-file",
    "body": ["tee -a ${1:file} > /dev/null <<EOF", "$0", "EOF"]
  },
  "Find files and exec": {
    "prefix": "find-exec",
    "body": "find . -iname '${1:*.txt}' -print -exec ${0:file {\\} \\; -exec sleep 1} \\;"
  },
  "Curl POST JSON": {
    "prefix": "curl-post",
    "body": "curl -X POST -k -H 'Content-Type: application/json' ${1:https://example.com} -d \"\\$(jo ${0:key=\"val\" key=\"val\"})\""
  },
  "Curl POST JSON heredoc": {
    "prefix": "curl-post-heredoc",
    "body": [
      "curl -X POST -k -H 'Content-Type: application/json' ${1:https://example.com} --data-binary @- << 'EOF'",
      "{",
      "  ${0:\"key\": \"value\"}",
      "}",
      "EOF"
    ]
  },
  "Curl POST data from stdin": {
    "prefix": "curl-post-stdin",
    "body": "curl -X POST -k -H 'Content-Type: application/json' ${0:https://example.com} --data-binary @-"
  },
  "Compress and encrypt files": {
    "prefix": "tar-encrypt",
    "body": "tar zcvf - ${1:files} | openssl enc -aes-256-cbc -salt -out ${0:encrypted}.tar.gz"
  },
  "Decompress and decrypt files": {
    "prefix": "tar-decrypt",
    "body": "openssl enc -d -aes256 -in ${0:encrypted}.tar.gz | tar zxv"
  }
}
